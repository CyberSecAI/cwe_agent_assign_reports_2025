# Vulnerability Information: CVE-2024-46896

## Vulnerability Description
In the Linux kernel, the following vulnerability has been resolved drm/amdgpu dont access invalid sched Since 2320c9e6a768 (drm/sched memset() job in drm_sched_job_init()) accessing job->base.sched can produce unexpected results as the initialisation of (*job)->base.sched done in amdgpu_job_alloc is overwritten by the memset. This commit fixes an issue when a CS would fail validation and would be rejected after job->num_ibs is incremented. In this case, amdgpu_ib_free(ring->adev, ...) will be called, which would crash the machine because the ring value is bogus. To fix this, pass a NULL pointer to amdgpu_ib_free() we can do this because the device is actually not used in this function. The next commit will remove the ring argument completely. (cherry picked from commit 2ae520cb12831d264ceb97c61f72c59d33c0dbd7)

### Vulnerability Description Key Phrases
- **component:** drm/amdgpu
- **rootcause:** **memset, memset() in drm_sched_job_init() overwrites job->base.sched**
- **product:** Linux kernel
- **impact:** crash the machine, produce unexpected results
- **version:** Since 2320c9e6a768

## Retriever Results

### Top Combined Results

| Rank | CWE ID | Name | Abstraction | Usage  | Retrievers | Individual Scores |
|------|--------|------|-------------|-------|------------|-------------------|
| 1 | 911 | Improper Update of Reference Count | Base | Allowed | sparse | 0.696 |
| 2 | 835 | Loop with Unreachable Exit Condition ('Infinite Loop') | Base | Allowed | sparse | 0.633 |
| 3 | 824 | Access of Uninitialized Pointer | Base | Allowed | sparse | 0.622 |
| 4 | 667 | Improper Locking | Class | Allowed-with-Review | sparse | 0.620 |
| 5 | 617 | Reachable Assertion | Base | Allowed | sparse | 0.616 |
| 6 | 1284 | Improper Validation of Specified Quantity in Input | Base | Allowed | sparse | 0.603 |
| 7 | 476 | NULL Pointer Dereference | Base | Allowed | sparse | 0.601 |
| 8 | 362 | Concurrent Execution using Shared Resource with Improper Synchronization ('Race Condition') | Class | Allowed-with-Review | sparse | 0.590 |
| 9 | 909 | Missing Initialization of Resource | Class | Allowed-with-Review | dense | 0.520 |
| 10 | 364 | Signal Handler Race Condition | Base | Allowed | graph | 0.002 |

